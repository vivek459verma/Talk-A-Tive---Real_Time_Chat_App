"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[574,891,445],{40679:(e,t,n)=>{n.d(t,{A:()=>j});n(65043);var r=n(46946),i=n(69160),s=n(74600),o=n(81045),a=n(85865),l=n(34535),c=n(26240),d=n(90310),x=n(79456),h=n(20765),p=n(70579);const u=(0,l.Ay)(r.A)((e=>{let{theme:t}=e;return{"&:hover":{cursor:"pointer"}}})),g=(0,l.Ay)(i.A)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),j=e=>{let{img:t,name:n,msg:r,time:l,unread:j,online:A,id:m}=e;const b=(0,x.wA)(),{room_id:k}=(0,x.d4)((e=>e.app)),w=null===k||void 0===k?void 0:k.toString();let f=+w===m;w||(f=!1);const v=(0,c.A)();return(0,p.jsx)(u,{onClick:()=>{b((0,h.s0)({room_id:m}))},sx:{width:"100%",borderRadius:1,backgroundColor:f?"light"===v.palette.mode?(0,d.X4)(v.palette.primary.main,.5):v.palette.primary.main:"light"===v.palette.mode?"#fff":v.palette.background.paper},p:2,children:(0,p.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsxs)(s.A,{direction:"row",spacing:2,children:[" ",A?(0,p.jsx)(g,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,p.jsx)(o.A,{alt:n,src:t})}):(0,p.jsx)(o.A,{alt:n,src:t}),(0,p.jsxs)(s.A,{spacing:.3,children:[(0,p.jsx)(a.A,{variant:"subtitle2",children:n}),(0,p.jsx)(a.A,{variant:"caption",children:(C=r,y=20,(null===C||void 0===C?void 0:C.length)>y?"".concat(null===C||void 0===C?void 0:C.slice(0,y),"..."):C)})]})]}),(0,p.jsxs)(s.A,{spacing:2,alignItems:"center",children:[(0,p.jsx)(a.A,{sx:{fontWeight:600},variant:"caption",children:l}),(0,p.jsx)(i.A,{className:"unread-count",color:"primary",badgeContent:j})]})]})});var C,y}},37930:(e,t,n)=>{n.d(t,{vj:()=>s,lh:()=>o,Xg:()=>l});var r=n(34535),i=n(90310);const s=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{position:"relative",borderRadius:20,backgroundColor:(0,i.X4)(t.palette.background.paper,1),marginRight:t.spacing(2),marginLeft:0,width:"100%"}})),o=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}));var a=n(25673);const l=(0,r.Ay)(a.Ay)((e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),width:"100%"}}}))},48445:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var r=n(65043),i=n(46946),s=n(74600),o=n(85865),a=n(17392),l=n(53404),c=n(39336),d=n(4122),x=n(46215),h=n(68365),p=n(48765),u=n(26240),g=n(14395),j=n(689),A=n(68399),m=n(70579);const b=()=>{const e=(0,u.A)(),[t,n]=r.useState(0);return(0,m.jsx)(i.A,{sx:{zIndex:10,position:"absolute",bottom:0,width:"100vw",backgroundColor:e.palette.background.paper,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,m.jsxs)(s.A,{sx:{width:"100%"},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:2,p:2,children:[A.Ok.map((r=>r.index===t?(0,m.jsx)(i.A,{sx:{backgroundColor:e.palette.primary.main,borderRadius:1.5},p:1,children:(0,m.jsx)(a.A,{sx:{width:"max-content",color:"#ffffff"},children:r.icon})}):(0,m.jsx)(a.A,{onClick:()=>{var e;e=r.index,n(e)},sx:{width:"max-content",color:"light"===e.palette.mode?"#080707":e.palette.text.primary},children:r.icon}))),(0,m.jsx)(j.A,{})]})})};var k=n(40679),w=n(37930),f=n(24836),v=n(90035),C=n(16704),y=n(24056),F=n(35316),I=n(79456),S=n(20765),_=n(69160),E=n(81045),R=n(34535),L=n(93932),z=n(28243);const M=window.localStorage.getItem("user_id"),W=(0,R.Ay)(i.A)((e=>{let{theme:t}=e;return{"&:hover":{cursor:"pointer"}}})),T=(0,R.Ay)(_.A)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),N=e=>{let{img:t,firstName:n,lastName:r,online:i,_id:a}=e;const c=(0,u.A)(),d="".concat(n," ").concat(r);return(0,m.jsx)(W,{sx:{width:"100%",borderRadius:1,backgroundColor:c.palette.background.paper},p:2,children:(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,children:[" ",i?(0,m.jsx)(T,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,m.jsx)(E.A,{alt:d,src:t})}):(0,m.jsx)(E.A,{alt:d,src:t}),(0,m.jsx)(s.A,{spacing:.3,children:(0,m.jsx)(o.A,{variant:"subtitle2",children:d})})]}),(0,m.jsx)(s.A,{direction:"row",spacing:2,alignItems:"center",children:(0,m.jsx)(l.A,{onClick:()=>{z.s.emit("friend_request",{to:a,from:M},(()=>{alert("request sent")}))},children:"Send Request"})})]})})},O=e=>{let{img:t,firstName:n,lastName:r,incoming:i,missed:a,online:c,id:d}=e;const x=(0,u.A)(),h="".concat(n," ").concat(r);return(0,m.jsx)(W,{sx:{width:"100%",borderRadius:1,backgroundColor:x.palette.background.paper},p:2,children:(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,children:[" ",c?(0,m.jsx)(T,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,m.jsx)(E.A,{alt:h,src:t})}):(0,m.jsx)(E.A,{alt:h,src:t}),(0,m.jsx)(s.A,{spacing:.3,children:(0,m.jsx)(o.A,{variant:"subtitle2",children:h})})]}),(0,m.jsx)(s.A,{direction:"row",spacing:2,alignItems:"center",children:(0,m.jsx)(l.A,{onClick:()=>{z.s.emit("accept_request",{request_id:d})},children:"Accept Request"})})]})})},B=e=>{let{img:t,firstName:n,lastName:r,incoming:i,missed:l,online:c,_id:d}=e;const x=(0,u.A)(),h="".concat(n," ").concat(r);return(0,m.jsx)(W,{sx:{width:"100%",borderRadius:1,backgroundColor:x.palette.background.paper},p:2,children:(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,children:[" ",c?(0,m.jsx)(T,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,m.jsx)(E.A,{alt:h,src:t})}):(0,m.jsx)(E.A,{alt:h,src:t}),(0,m.jsx)(s.A,{spacing:.3,children:(0,m.jsx)(o.A,{variant:"subtitle2",children:h})})]}),(0,m.jsx)(s.A,{direction:"row",spacing:2,alignItems:"center",children:(0,m.jsx)(a.A,{onClick:()=>{z.s.emit("start_conversation",{to:d,from:M})},children:(0,m.jsx)(L.A,{})})})]})})},P=r.forwardRef((function(e,t){return(0,m.jsx)(f.A,{direction:"up",ref:t,...e})})),D=()=>{const e=(0,I.wA)(),{users:t}=(0,I.d4)((e=>e.app));return(0,r.useEffect)((()=>{e((0,S.dK)())}),[e]),(0,m.jsx)(m.Fragment,{children:t.map(((e,t)=>(0,m.jsx)(N,{...e},t)))})},H=()=>{const e=(0,I.wA)(),{friends:t}=(0,I.d4)((e=>e.app));return(0,r.useEffect)((()=>{e((0,S._i)())}),[e]),(0,m.jsx)(m.Fragment,{children:t.map(((e,t)=>(0,m.jsx)(B,{...e},t)))})},X=()=>{const e=(0,I.wA)(),{friendRequests:t}=(0,I.d4)((e=>e.app));return(0,r.useEffect)((()=>{e((0,S.pg)())}),[e]),(0,m.jsx)(m.Fragment,{children:t.map(((e,t)=>(0,m.jsx)(O,{...e.sender,id:e._id},t)))})},Y=e=>{let{open:t,handleClose:n}=e;const[i,o]=r.useState(0);return(0,m.jsxs)(v.A,{fullWidth:!0,maxWidth:"xs",open:t,TransitionComponent:P,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",sx:{p:4},children:[(0,m.jsx)(s.A,{p:2,sx:{width:"100%"},children:(0,m.jsxs)(C.A,{value:i,onChange:(e,t)=>{o(t)},centered:!0,children:[(0,m.jsx)(y.A,{label:"Explore"}),(0,m.jsx)(y.A,{label:"Friends"}),(0,m.jsx)(y.A,{label:"Requests"})]})}),(0,m.jsx)(F.A,{children:(0,m.jsx)(s.A,{sx:{height:"100%"},children:(0,m.jsx)(s.A,{spacing:2.4,children:(()=>{switch(i){case 0:return(0,m.jsx)(D,{});case 1:return(0,m.jsx)(H,{});case 2:return(0,m.jsx)(X,{})}})()})})})]})};var V=n(61358);const q=window.localStorage.getItem("user_id"),G=()=>{const e=(0,u.A)(),t=(0,g.A)("up","md"),n=(0,I.wA)(),[j,A]=(0,r.useState)(!1),{conversations:f}=(0,I.d4)((e=>e.conversation.direct_chat));(0,r.useEffect)((()=>{z.s.emit("get_direct_conversations",{user_id:q},(e=>{console.log(e),n((0,V.Wt)({conversations:e}))}))}),[n]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.A,{sx:{position:"relative",height:"100%",width:t?320:"100vw",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:[!t&&(0,m.jsx)(b,{}),(0,m.jsxs)(s.A,{p:3,spacing:2,sx:{maxHeight:"100vh"},children:[(0,m.jsxs)(s.A,{alignItems:"center",justifyContent:"space-between",direction:"row",children:[(0,m.jsx)(o.A,{variant:"h5",children:"Chats"}),(0,m.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,m.jsx)(a.A,{onClick:()=>{A(!0)},sx:{width:"max-content"},children:(0,m.jsx)(d.A,{})}),(0,m.jsx)(a.A,{sx:{width:"max-content"},children:(0,m.jsx)(x.A,{})})]})]}),(0,m.jsx)(s.A,{sx:{width:"100%"},children:(0,m.jsxs)(w.vj,{children:[(0,m.jsx)(w.lh,{children:(0,m.jsx)(h.A,{color:"#709CE6"})}),(0,m.jsx)(w.Xg,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})}),(0,m.jsxs)(s.A,{spacing:1,children:[(0,m.jsxs)(s.A,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,m.jsx)(p.A,{size:24}),(0,m.jsx)(l.A,{variant:"text",children:"Archive"})]}),(0,m.jsx)(c.A,{})]}),(0,m.jsx)(s.A,{sx:{flexGrow:1,height:"100%",overflowY:"scroll","::-webkit-scrollbar":{width:"1.5px"},"::-webkit-scrollbar-track ":{background:"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper}," ::-webkit-scrollbar-thumb ":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:(0,m.jsxs)(s.A,{spacing:2.4,children:[(0,m.jsx)(o.A,{variant:"subtitle2",sx:{color:"#676667"},children:"All Chats"}),f.filter((e=>!e.pinned)).map(((e,t)=>(0,m.jsx)(k.A,{...e})))]})})]})]}),j&&(0,m.jsx)(Y,{open:j,handleClose:()=>{A(!1)}})]})}},56891:(e,t,n)=>{n.r(t),n.d(t,{Conversation:()=>$,default:()=>J});var r=n(46946),i=n(74600),s=n(65043),o=n(26240),a=n(31802),l=n(34535),c=n(69160),d=n(81045),x=n(85865),h=n(17392),p=n(39336),u=n(69555),g=n(56258),j=n(37970),A=n(2478),m=n(1606),b=n(68365),k=n(89453),w=n(14395),f=n(20765),v=n(79456),C=n(30199),y=n(77074),F=n(70579);const I=(0,l.Ay)(c.A)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),S=[{title:"Contact info"},{title:"Mute notifications"},{title:"Clear messages"},{title:"Delete chat"}],_=()=>{const e=(0,v.wA)(),t=(0,w.A)("between","md","xs","sm"),n=(0,o.A)(),{current_conversation:a}=(0,v.d4)((e=>e.conversation.direct_chat)),[l,c]=s.useState(null),_=Boolean(l),E=()=>{c(null)};return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(r.A,{p:2,width:"100%",sx:{backgroundColor:"light"===n.palette.mode?"#F8FAFF":n.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,F.jsxs)(i.A,{alignItems:"center",direction:"row",sx:{width:"100%",height:"100%"},justifyContent:"space-between",children:[(0,F.jsxs)(i.A,{onClick:()=>{e((0,f.fy)())},spacing:2,direction:"row",children:[(0,F.jsx)(r.A,{children:(0,F.jsx)(I,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,F.jsx)(d.A,{alt:null===a||void 0===a?void 0:a.name,src:null===a||void 0===a?void 0:a.img})})}),(0,F.jsxs)(i.A,{spacing:.2,children:[(0,F.jsx)(x.A,{variant:"subtitle2",children:null===a||void 0===a?void 0:a.name}),(0,F.jsx)(x.A,{variant:"caption",children:"Online"})]})]}),(0,F.jsxs)(i.A,{direction:"row",alignItems:"center",spacing:t?1:3,children:[(0,F.jsx)(h.A,{onClick:()=>{e((0,y.IG)(a.user_id))},children:(0,F.jsx)(A.A,{})}),(0,F.jsx)(h.A,{onClick:()=>{e((0,C.$Y)(a.user_id))},children:(0,F.jsx)(m.A,{})}),!t&&(0,F.jsx)(h.A,{children:(0,F.jsx)(b.A,{})}),(0,F.jsx)(p.A,{orientation:"vertical",flexItem:!0}),(0,F.jsx)(h.A,{id:"conversation-positioned-button","aria-controls":_?"conversation-positioned-menu":void 0,"aria-haspopup":"true","aria-expanded":_?"true":void 0,onClick:e=>{c(e.currentTarget)},children:(0,F.jsx)(k.A,{})}),(0,F.jsx)(u.A,{MenuListProps:{"aria-labelledby":"fade-button"},TransitionComponent:g.A,id:"conversation-positioned-menu","aria-labelledby":"conversation-positioned-button",anchorEl:l,open:_,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,F.jsx)(r.A,{p:1,children:(0,F.jsx)(i.A,{spacing:1,children:S.map((e=>(0,F.jsxs)(j.A,{onClick:E,children:[(0,F.jsx)(i.A,{sx:{minWidth:100},direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,F.jsx)("span",{children:e.title})})," "]})))})})})]})]})})})};var E=n(84642),R=n(77739),L=n(24010),z=n(51787),M=n(94651),W=n(13689),T=n(52753),N=n(35164),O=n(72085),B=n(76528),P=n(27193),D=n(73381),H=n(59995),X=n(51842),Y=n(28243);const V=(0,l.Ay)(E.A)((e=>{let{theme:t}=e;return{"& .MuiInputBase-input":{paddingTop:"12px !important",paddingBottom:"12px !important"}}})),q=[{color:"#4da5fe",icon:(0,F.jsx)(M.A,{size:24}),y:102,title:"Photo/Video"},{color:"#1b8cfe",icon:(0,F.jsx)(W.A,{size:24}),y:172,title:"Stickers"},{color:"#0172e4",icon:(0,F.jsx)(T.A,{size:24}),y:242,title:"Image"},{color:"#0159b2",icon:(0,F.jsx)(N.A,{size:24}),y:312,title:"Document"},{color:"#013f7f",icon:(0,F.jsx)(O.A,{size:24}),y:382,title:"Contact"}],G=e=>{let{openPicker:t,setOpenPicker:n,setValue:r,value:o,inputRef:a,handleSendMessage:l}=e;const[c,d]=s.useState(!1);return(0,F.jsx)(V,{inputRef:a,value:o,onChange:e=>{r(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&l()},fullWidth:!0,placeholder:"Write a message...",variant:"filled",InputProps:{disableUnderline:!0,startAdornment:(0,F.jsxs)(i.A,{sx:{width:"max-content"},children:[(0,F.jsx)(i.A,{sx:{position:"relative",display:c?"inline-block":"none"},children:q.map((e=>(0,F.jsx)(R.A,{placement:"right",title:e.title,children:(0,F.jsx)(L.A,{onClick:()=>{d(!c)},sx:{position:"absolute",top:-e.y,backgroundColor:e.color},"aria-label":"add",children:e.icon})})))}),(0,F.jsx)(z.A,{children:(0,F.jsx)(h.A,{onClick:()=>{d(!c)},children:(0,F.jsx)(B.A,{})})})]}),endAdornment:(0,F.jsx)(i.A,{sx:{position:"relative"},children:(0,F.jsx)(z.A,{children:(0,F.jsx)(h.A,{onClick:()=>{n(!t)},children:(0,F.jsx)(P.A,{})})})})}})};function K(e){return/(https?:\/\/[^\s]+)/g.test(e)}const Q=()=>{const e=(0,o.A)(),{current_conversation:t}=(0,v.d4)((e=>e.conversation.direct_chat)),n=window.localStorage.getItem("user_id"),a=(0,w.A)("between","md","xs","sm"),{sideBar:l,room_id:c}=(0,v.d4)((e=>e.app)),d=l&&l.open,[x,p]=s.useState(!1),[u,g]=(0,s.useState)(""),j=(0,s.useRef)(null);const A=()=>{var e;""!==u.trim()&&(Y.s.emit("text_message",{message:(e=u,e.replace(/(https?:\/\/[^\s]+)/g,(e=>'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")))),conversation_id:c,from:n,to:t.user_id,type:K(u)?"Link":"Text"}),g(""))};return(0,F.jsx)(r.A,{sx:{position:"relative",backgroundColor:"transparent !important"},children:(0,F.jsx)(r.A,{p:a?1:2,width:"100%",sx:{backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,F.jsxs)(i.A,{direction:"row",alignItems:"center",spacing:a?1:3,children:[(0,F.jsxs)(i.A,{sx:{width:"100%"},children:[(0,F.jsx)(r.A,{style:{zIndex:10,position:"fixed",display:x?"inline":"none",bottom:81,right:a?20:d?420:100},children:(0,F.jsx)(X.A,{theme:e.palette.mode,data:H,onEmojiSelect:e=>{!function(e){const t=j.current;if(t){const n=t.selectionStart,r=t.selectionEnd;g(u.substring(0,n)+e+u.substring(r)),t.selectionStart=t.selectionEnd=n+1}}(e.native)}})}),(0,F.jsx)(G,{inputRef:j,value:u,setValue:g,openPicker:x,setOpenPicker:p,handleSendMessage:A})]}),(0,F.jsx)(r.A,{sx:{height:48,width:48,backgroundColor:e.palette.primary.main,borderRadius:1.5},children:(0,F.jsx)(i.A,{sx:{height:"100%"},alignItems:"center",justifyContent:"center",children:(0,F.jsxs)(h.A,{onClick:A,children:[" ",(0,F.jsx)(D.A,{color:"#ffffff"})]})})})]})})})};var U=n(95767),Z=n(61358);const $=e=>{let{isMobile:t,menu:n}=e;const o=(0,v.wA)(),{conversations:a,current_messages:l}=(0,v.d4)((e=>e.conversation.direct_chat)),{room_id:c}=(0,v.d4)((e=>e.app));return(0,s.useEffect)((()=>{const e=a.find((e=>(null===e||void 0===e?void 0:e.id)===c));Y.s.emit("get_messages",{conversation_id:null===e||void 0===e?void 0:e.id},(e=>{console.log(e,"List of messages"),o((0,Z.eM)({messages:e}))})),o((0,Z.Z1)(e))}),[a,o,c]),(0,F.jsx)(r.A,{p:t?1:3,children:(0,F.jsx)(i.A,{spacing:3,children:l&&l.map(((e,t)=>{switch(e.type){case"divider":return(0,F.jsx)(U.Kf,{el:e});case"msg":switch(e.subtype){case"img":return(0,F.jsx)(U.wb,{el:e,menu:n});case"doc":return(0,F.jsx)(U.Qk,{el:e,menu:n});case"Link":return(0,F.jsx)(U.aF,{el:e,menu:n});case"reply":return(0,F.jsx)(U.uI,{el:e,menu:n});default:return(0,F.jsx)(U.p7,{el:e,menu:n})}default:return(0,F.jsx)(F.Fragment,{})}}))})})},J=()=>{const e=(0,w.A)("between","md","xs","sm"),t=(0,o.A)(),n=(0,s.useRef)(null),{current_messages:l}=(0,v.d4)((e=>e.conversation.direct_chat));return(0,s.useEffect)((()=>{n.current.scrollTop=n.current.scrollHeight}),[l]),(0,F.jsxs)(i.A,{height:"100%",maxHeight:"100vh",width:e?"100vw":"auto",children:[(0,F.jsx)(_,{}),(0,F.jsx)(r.A,{ref:n,width:"100%",sx:{position:"relative",flexGrow:1,height:"100%",overflowY:"scroll","::-webkit-scrollbar":{width:"1.5px"},"::-webkit-scrollbar-track ":{background:"light"===t.palette.mode?"#F8FAFF":t.palette.background.paper}," ::-webkit-scrollbar-thumb ":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"},backgroundColor:"light"===t.palette.mode?"#F0F4FA":t.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,F.jsx)(a.N,{timeout:500,clickOnTrack:!1,children:(0,F.jsx)($,{menu:!0,isMobile:e})})}),(0,F.jsx)(Q,{})]})}},574:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(65043),i=n(26240),s=n(74600),o=n(46946),a=n(85865),l=n(35475),c=n(56891),d=n(48445),x=n(3178),h=n(70833),p=n(5902),u=n(79456),g=n(17392),j=n(96391),A=n(10850),m=new Map;m.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),m.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),m.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-4.9,7.4,8.5,8.5,0,0,1-3.1.6,8.3,8.3,0,0,1-5.7-2.3l-72-72a8.1,8.1,0,0,1,0-11.4l72-72a8.4,8.4,0,0,1,8.8-1.7A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))})),m.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),m.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),m.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var b=function(e,t){return(0,j.$)(e,t,m)},k=(0,r.forwardRef)((function(e,t){return r.createElement(A.A,Object.assign({ref:t},e,{renderPath:b}))}));k.displayName="ArrowLeft";const w=k;var f=n(14395),v=n(20765),C=n(70579);const y=()=>{const e=(0,u.wA)(),t=(0,i.A)(),n=(0,f.A)("up","md");return(0,C.jsx)(o.A,{sx:{width:n?320:"100vw",maxHeight:"100vh"},children:(0,C.jsxs)(s.A,{sx:{height:"100%"},children:[(0,C.jsx)(o.A,{sx:{boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)",width:"100%",backgroundColor:"light"===t.palette.mode?"#F8FAFF":t.palette.background},children:(0,C.jsxs)(s.A,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,C.jsx)(g.A,{onClick:()=>{e((0,v.EV)("CONTACT"))},children:(0,C.jsx)(w,{})}),(0,C.jsx)(a.A,{variant:"subtitle2",children:"Starred Messages"})]})}),(0,C.jsx)(s.A,{sx:{position:"relative",flexGrow:1,height:"100%",overflowY:"scroll","::-webkit-scrollbar":{width:"1.5px"},"::-webkit-scrollbar-track ":{background:"light"===t.palette.mode?"#F8FAFF":t.palette.background.paper}," ::-webkit-scrollbar-thumb ":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"},backgroundColor:"light"===t.palette.mode?"#F0F4FA":t.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},spacing:3,children:(0,C.jsx)(c.Conversation,{})})]})})};var F=n(16704),I=n(24056),S=n(68903),_=n(85702),E=n(95767),R=n(68399);const L=()=>{const e=(0,u.wA)(),t=(0,i.A)(),n=(0,f.A)("up","md"),[l,c]=r.useState(0);return(0,C.jsx)(o.A,{sx:{width:n?320:"100vw",maxHeight:"100vh"},children:(0,C.jsxs)(s.A,{sx:{height:"100%"},children:[(0,C.jsx)(o.A,{sx:{boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)",width:"100%",backgroundColor:"light"===t.palette.mode?"#F8FAFF":t.palette.background},children:(0,C.jsxs)(s.A,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,C.jsx)(g.A,{onClick:()=>{e((0,v.EV)("CONTACT"))},children:(0,C.jsx)(w,{})}),(0,C.jsx)(a.A,{variant:"subtitle2",children:"Shared"})]})}),(0,C.jsxs)(F.A,{value:l,onChange:(e,t)=>{c(t)},centered:!0,children:[(0,C.jsx)(I.A,{label:"Media"}),(0,C.jsx)(I.A,{label:"Links"}),(0,C.jsx)(I.A,{label:"Docs"})]}),(0,C.jsx)(s.A,{sx:{position:"relative",flexGrow:1,height:"100%",overflowY:"scroll","::-webkit-scrollbar":{width:"1.5px"},"::-webkit-scrollbar-track ":{background:"light"===t.palette.mode?"#F8FAFF":t.palette.background.paper}," ::-webkit-scrollbar-thumb ":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"},backgroundColor:"light"===t.palette.mode?"#F0F4FA":t.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},spacing:3,padding:1===l?1:3,children:(()=>{switch(l){case 0:return(0,C.jsx)(S.Ay,{container:!0,spacing:2,children:[0,1,2,3,4,5,6].map((e=>(0,C.jsx)(S.Ay,{item:!0,xs:4,children:(0,C.jsx)("img",{src:_.az.image.city(),alt:_.az.internet.userName()})})))});case 1:return R.M4.map((e=>(0,C.jsx)(E.aF,{el:e})));case 2:return R.YK.map((e=>(0,C.jsx)(E.Qk,{el:e})))}})()})]})})},z=()=>{const[e]=(0,l.ok)(),t=(0,i.A)(),{sideBar:n,room_id:r,chat_type:g}=(0,u.d4)((e=>e.app)),j=n&&n.open;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(s.A,{direction:"row",sx:{width:"100%"},children:[(0,C.jsx)(d.default,{}),(0,C.jsx)(o.A,{sx:{height:"100%",width:j?"calc(100vw - 740px )":"calc(100vw - 420px )",backgroundColor:"light"===t.palette.mode?"#FFF":t.palette.background.paper,borderBottom:"individual-chat"===e.get("type")},children:"individual"===g&&null!==r?(0,C.jsx)(c.default,{}):(0,C.jsxs)(s.A,{spacing:2,sx:{height:"100%",width:"100%"},alignItems:"center",justifyContent:"center",children:[(0,C.jsx)("img",{src:"light"===t.palette.mode?h:p,alt:"chat app logo"}),(0,C.jsxs)(a.A,{variant:"subtitle2",children:["Select a Chat or start a"," ",(0,C.jsx)(l.N_,{style:{color:t.palette.primary.main,textDecoration:"none"},to:"/",children:"New Conversation"})]})]})}),j&&(()=>{switch(n.type){case"CONTACT":return(0,C.jsx)(x.default,{});case"STARRED":return(0,C.jsx)(y,{});case"SHARED":return(0,C.jsx)(L,{})}})()]})})}},3178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(65043),i=n(26240),s=n(24836),o=n(90035),a=n(26600),l=n(35316),c=n(98533),d=n(29347),x=n(53404),h=n(46946),p=n(74600),u=n(85865),g=n(17392),j=n(81045),A=n(39336),m=n(85702),b=n(7426),k=n(1606),w=n(2478),f=n(64541),v=n(41210),C=n(183),y=n(96237),F=n(13072),I=n(14395),S=n(29264),_=n(79456),E=n(20765),R=n(70579);const L=r.forwardRef((function(e,t){return(0,R.jsx)(s.A,{direction:"up",ref:t,...e})})),z=e=>{let{open:t,handleClose:n}=e;return(0,R.jsxs)(o.A,{open:t,TransitionComponent:L,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[(0,R.jsx)(a.A,{children:"Block this contact"}),(0,R.jsx)(l.A,{children:(0,R.jsx)(c.A,{id:"alert-dialog-slide-description",children:"Are you sure you want to block this Contact?"})}),(0,R.jsxs)(d.A,{children:[(0,R.jsx)(x.A,{onClick:n,children:"Cancel"}),(0,R.jsx)(x.A,{onClick:n,children:"Yes"})]})]})},M=e=>{let{open:t,handleClose:n}=e;return(0,R.jsxs)(o.A,{open:t,TransitionComponent:L,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[(0,R.jsx)(a.A,{children:"Delete this chat"}),(0,R.jsx)(l.A,{children:(0,R.jsx)(c.A,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this chat?"})}),(0,R.jsxs)(d.A,{children:[(0,R.jsx)(x.A,{onClick:n,children:"Cancel"}),(0,R.jsx)(x.A,{onClick:n,children:"Yes"})]})]})},W=()=>{const e=(0,_.wA)(),{current_conversation:t}=(0,_.d4)((e=>e.conversation.direct_chat)),n=(0,i.A)(),s=(0,I.A)("up","md"),[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1);return(0,R.jsxs)(h.A,{sx:{width:s?320:"100vw",maxHeight:"100vh"},children:[(0,R.jsxs)(p.A,{sx:{height:"100%"},children:[(0,R.jsx)(h.A,{sx:{boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)",width:"100%",backgroundColor:"light"===n.palette.mode?"#F8FAFF":n.palette.background},children:(0,R.jsxs)(p.A,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:3,children:[(0,R.jsx)(u.A,{variant:"subtitle2",children:"Contact Info"}),(0,R.jsx)(g.A,{onClick:()=>{e((0,E.fy)())},children:(0,R.jsx)(b.A,{})})]})}),(0,R.jsxs)(p.A,{sx:{position:"relative",flexGrow:1,height:"100%",overflowY:"scroll","::-webkit-scrollbar":{width:"1.5px"},"::-webkit-scrollbar-track ":{background:"light"===n.palette.mode?"#F8FAFF":n.palette.background.paper}," ::-webkit-scrollbar-thumb ":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"},backgroundColor:"light"===n.palette.mode?"#F0F4FA":n.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},p:3,spacing:3,children:[(0,R.jsxs)(p.A,{alignItems:"center",direction:"row",spacing:2,children:[(0,R.jsx)(j.A,{src:null===t||void 0===t?void 0:t.img,alt:null===t||void 0===t?void 0:t.name,sx:{height:64,width:64}}),(0,R.jsxs)(p.A,{spacing:.5,children:[(0,R.jsx)(u.A,{variant:"article",fontWeight:600,children:null===t||void 0===t?void 0:t.name}),(0,R.jsx)(u.A,{variant:"body2",fontWeight:500,children:"+91 62543 28 739"})]})]}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[(0,R.jsxs)(p.A,{alignItems:"center",spacing:1,children:[(0,R.jsx)(g.A,{children:(0,R.jsx)(k.A,{})}),(0,R.jsx)(u.A,{variant:"overline",children:"Voice"})]}),(0,R.jsxs)(p.A,{alignItems:"center",spacing:1,children:[(0,R.jsx)(g.A,{children:(0,R.jsx)(w.A,{})}),(0,R.jsx)(u.A,{variant:"overline",children:"Video"})]})]}),(0,R.jsx)(A.A,{}),(0,R.jsxs)(p.A,{spacing:.5,children:[(0,R.jsx)(u.A,{variant:"article",fontWeight:600,children:"About"}),(0,R.jsx)(u.A,{variant:"body2",fontWeight:500,children:null===t||void 0===t?void 0:t.about})]}),(0,R.jsx)(A.A,{}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsx)(u.A,{variant:"subtitle2",children:"Media, Links & Docs"}),(0,R.jsx)(x.A,{onClick:()=>{e((0,E.EV)("SHARED"))},endIcon:(0,R.jsx)(f.A,{}),children:"401"})]}),(0,R.jsx)(p.A,{direction:"row",alignItems:"center",spacing:2,children:[1,2,3].map((e=>(0,R.jsx)(h.A,{children:(0,R.jsx)("img",{src:m.az.image.city(),alt:m.az.internet.userName()})})))}),(0,R.jsx)(A.A,{}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,R.jsx)(v.A,{size:21}),(0,R.jsx)(u.A,{variant:"subtitle2",children:"Starred Messages"})]}),(0,R.jsx)(g.A,{onClick:()=>{e((0,E.EV)("STARRED"))},children:(0,R.jsx)(f.A,{})})]}),(0,R.jsx)(A.A,{}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,R.jsx)(C.A,{size:21}),(0,R.jsx)(u.A,{variant:"subtitle2",children:"Mute Notifications"})]}),(0,R.jsx)(S.A,{})]}),(0,R.jsx)(A.A,{}),(0,R.jsx)(u.A,{variant:"body2",children:"1 group in common"}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,R.jsx)(j.A,{src:m.az.image.imageUrl(),alt:m.az.name.fullName()}),(0,R.jsxs)(p.A,{direction:"column",spacing:.5,children:[(0,R.jsx)(u.A,{variant:"subtitle2",children:"Camel\u2019s Gang"}),(0,R.jsx)(u.A,{variant:"caption",children:"Owl, Parrot, Rabbit , You"})]})]}),(0,R.jsx)(A.A,{}),(0,R.jsxs)(p.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,R.jsx)(x.A,{onClick:()=>{a(!0)},fullWidth:!0,startIcon:(0,R.jsx)(y.A,{}),variant:"outlined",children:"Block"}),(0,R.jsx)(x.A,{onClick:()=>{c(!0)},fullWidth:!0,startIcon:(0,R.jsx)(F.A,{}),variant:"outlined",children:"Delete"})]})]})]}),o&&(0,R.jsx)(z,{open:o,handleClose:()=>{a(!1)}}),l&&(0,R.jsx)(M,{open:l,handleClose:()=>{c(!1)}})]})}},95767:(e,t,n)=>{n.d(t,{Kf:()=>C,Qk:()=>w,aF:()=>f,p7:()=>b,uI:()=>v,wb:()=>k});var r=n(65043),i=n(69555),s=n(74600),o=n(37970),a=n(46946),l=n(85865),c=n(17392),d=n(39336),x=n(26240),h=n(90310),p=n(83540),u=n(94651),g=n(98192),j=n(68399),A=n(70579);const m=()=>{const[e,t]=r.useState(null),n=Boolean(e),a=()=>{t(null)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(p.A,{size:20,id:"basic-button","aria-controls":n?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,onClick:e=>{t(e.currentTarget)}}),(0,A.jsx)(i.A,{id:"basic-menu",anchorEl:e,open:n,onClose:a,MenuListProps:{"aria-labelledby":"basic-button"},children:(0,A.jsx)(s.A,{spacing:1,px:1,children:j.zB.map((e=>(0,A.jsx)(o.A,{onClick:a,children:e.title})))})})]})},b=e=>{let{el:t,menu:n}=e;const r=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",justifyContent:t.incoming?"start":"end",children:[(0,A.jsx)(a.A,{px:1.5,py:1.5,sx:{backgroundColor:t.incoming?(0,h.X4)(r.palette.background.default,1):r.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,A.jsx)(l.A,{variant:"body2",color:t.incoming?r.palette.text:"#fff",children:t.message})}),n&&(0,A.jsx)(m,{})]})},k=e=>{let{el:t,menu:n}=e;const r=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",justifyContent:t.incoming?"start":"end",children:[(0,A.jsx)(a.A,{px:1.5,py:1.5,sx:{backgroundColor:t.incoming?(0,h.X4)(r.palette.background.default,1):r.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,A.jsxs)(s.A,{spacing:1,children:[(0,A.jsx)("img",{src:t.img,alt:t.message,style:{maxHeight:210,borderRadius:"10px"}}),(0,A.jsx)(l.A,{variant:"body2",color:t.incoming?r.palette.text:"#fff",children:t.message})]})}),n&&(0,A.jsx)(m,{})]})},w=e=>{let{el:t,menu:n}=e;const r=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",justifyContent:t.incoming?"start":"end",children:[(0,A.jsx)(a.A,{px:1.5,py:1.5,sx:{backgroundColor:t.incoming?(0,h.X4)(r.palette.background.default,1):r.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,A.jsxs)(s.A,{spacing:2,children:[(0,A.jsxs)(s.A,{p:2,direction:"row",spacing:3,alignItems:"center",sx:{backgroundColor:r.palette.background.paper,borderRadius:1},children:[(0,A.jsx)(u.A,{size:48}),(0,A.jsx)(l.A,{variant:"caption",children:"Abstract.png"}),(0,A.jsx)(c.A,{children:(0,A.jsx)(g.A,{})})]}),(0,A.jsx)(l.A,{variant:"body2",color:t.incoming?r.palette.text:"#fff",children:t.message})]})}),n&&(0,A.jsx)(m,{})]})},f=e=>{let{el:t,menu:n}=e;const r=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",justifyContent:t.incoming?"start":"end",children:[(0,A.jsx)(a.A,{px:1.5,py:1.5,sx:{backgroundColor:t.incoming?(0,h.X4)(r.palette.background.default,1):r.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,A.jsxs)(s.A,{spacing:2,children:[(0,A.jsx)(s.A,{p:2,direction:"column",spacing:3,alignItems:"start",sx:{backgroundColor:r.palette.background.paper,borderRadius:1},children:(0,A.jsx)(s.A,{direction:"column",spacing:2})}),(0,A.jsx)(l.A,{variant:"body2",color:t.incoming?r.palette.text:"#fff",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:t.message}})})]})}),n&&(0,A.jsx)(m,{})]})},v=e=>{let{el:t,menu:n}=e;const r=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",justifyContent:t.incoming?"start":"end",children:[(0,A.jsx)(a.A,{px:1.5,py:1.5,sx:{backgroundColor:t.incoming?(0,h.X4)(r.palette.background.paper,1):r.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,A.jsxs)(s.A,{spacing:2,children:[(0,A.jsx)(s.A,{p:2,direction:"column",spacing:3,alignItems:"center",sx:{backgroundColor:(0,h.X4)(r.palette.background.paper,1),borderRadius:1},children:(0,A.jsx)(l.A,{variant:"body2",color:r.palette.text,children:t.message})}),(0,A.jsx)(l.A,{variant:"body2",color:t.incoming?r.palette.text:"#fff",children:t.reply})]})}),n&&(0,A.jsx)(m,{})]})},C=e=>{let{el:t}=e;const n=(0,x.A)();return(0,A.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(d.A,{width:"46%"}),(0,A.jsx)(l.A,{variant:"caption",sx:{color:n.palette.text},children:t.text}),(0,A.jsx)(d.A,{width:"46%"})]})}}}]);
//# sourceMappingURL=574.345cca8d.chunk.js.map